<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Event Handling — Strudel.js</title><meta name="description" content="Strudel.js"><meta property="og:type" content="article"><meta property="og:title" content="Event Handling — Strudel.js"><meta property="og:description" content="Strudel.js"><meta property="og:image" content="http://strudeljs.org/images/strudel-twoline.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Event Handling — Strudel.js"><meta name="twitter:description" content="Strudel.js"><meta name="twitter:image" content="http://strudeljs.org/images/strudel-twoline.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="icon" type="image/png" href="/images/favicon/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/images/favicon/favicon-16x16.png" sizes="16x16"><meta name="theme-color" content="#FFDA5C"><link href="//fonts.googleapis.com/css?family=Lato|Comfortaa|Roboto Mono" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/style-89107576c1bfe3a2b416f5c7a8697355.css"><script>!function(e,a,t,n,g,c,s){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),s=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(c,s)}(window,document,"script"),ga("create","UA-17077875-3","strudeljs.org"),ga("send","pageview")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"></head></html><body class="guide"><header class="main-header"><button class="nav-toggle"><span></span></button> <a class="main-logo" href="/"><img src="/images/strudel.svg"></a><div class="navigation"><nav class="main-nav" role="navigation"><a class="main-nav__link current" href="/guide/">Guide</a> <a class="main-nav__link" href="/api/">API</a> <a class="main-nav__link" href="/examples/">Examples</a> <a class="main-nav__link" href="/community/">Community</a></nav><a href="http://github.com/strudeljs/strudel/releases" rel="external nofollow" target="_blank" class="recent-version">v0.8.1 <svg x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="
      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,
      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z
    "></path><polygon fill="currentColor" points="
      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,
      14.9 62.8,22.9 71.5,22.9
      "></polygon></svg></a></div><input type="text" class="main-search" id="search-query-nav" placeholder="Search docs"></header><section class="main-content"><div class="mobile-nav" onmouseover='document.body.style.overflow="hidden"' onmouseout='document.body.style.overflow="auto"'><input type="text" class="main-search" id="search-query-mobile" placeholder="Search docs"><nav role="mobile-nav__navigation"><div class="mobile-nav__item"><a class="mobile-nav__link current" href="/guide/">Guide</a></div><div class="mobile-nav__item"><a class="mobile-nav__link" href="/api/">API</a></div><div class="mobile-nav__item"><a class="mobile-nav__link" href="/examples/">Examples</a></div><div class="mobile-nav__item"><a class="mobile-nav__link" href="/community/">Community</a></div></nav><ul class="mobile-nav__sidebar anchors guide"><li><h3>Overview</h3></li><li><div class="mobile-nav__item"><a href="/guide/installation.html" class="mobile-nav__sidebar-link">Installation</a></div></li><li><div class="mobile-nav__item"><a href="/guide/index.html" class="mobile-nav__sidebar-link">Introduction</a></div></li><li><div class="mobile-nav__item"><a href="/guide/components.html" class="mobile-nav__sidebar-link">Components</a></div></li><li><div class="mobile-nav__item"><a href="/guide/dom.html" class="mobile-nav__sidebar-link">Manipulating DOM</a></div></li><li><div class="mobile-nav__item"><a href="/guide/eventhandling.html" class="mobile-nav__sidebar-link current">Event Handling</a></div></li><li><h3>Advanced</h3></li><li><div class="mobile-nav__item"><a href="/guide/initialization.html" class="mobile-nav__sidebar-link">Initialization</a></div></li><li><div class="mobile-nav__item"><a href="/guide/composition.html" class="mobile-nav__sidebar-link">Composition</a></div></li><li><div class="mobile-nav__item"><a href="/guide/lifecycle.html" class="mobile-nav__sidebar-link">Lifecycle</a></div></li><li><div class="mobile-nav__item"><a href="/guide/deployment.html" class="mobile-nav__sidebar-link">Deployment</a></div></li><li><h3>CLI</h3></li><li><div class="mobile-nav__item"><a href="/guide/usage.html" class="mobile-nav__sidebar-link">Usage</a></div></li></ul></div><div class="sidebar"><ul class="sidebar-nav anchors guide" onmouseover="document.body.style.overflow=&quot;hidden&quot;" onmouseout="document.body.style.overflow=&quot;auto&quot;"><li><h3>Overview</h3></li><li><a href="/guide/installation.html" class="sidebar-nav__link">Installation</a></li><li><a href="/guide/index.html" class="sidebar-nav__link">Introduction</a></li><li><a href="/guide/components.html" class="sidebar-nav__link">Components</a></li><li><a href="/guide/dom.html" class="sidebar-nav__link">Manipulating DOM</a></li><li><a href="/guide/eventhandling.html" class="sidebar-nav__link current">Event Handling</a></li><li><h3>Advanced</h3></li><li><a href="/guide/initialization.html" class="sidebar-nav__link">Initialization</a></li><li><a href="/guide/composition.html" class="sidebar-nav__link">Composition</a></li><li><a href="/guide/lifecycle.html" class="sidebar-nav__link">Lifecycle</a></li><li><a href="/guide/deployment.html" class="sidebar-nav__link">Deployment</a></li><li><h3>CLI</h3></li><li><a href="/guide/usage.html" class="sidebar-nav__link">Usage</a></li></ul></div><div class="content with-sidebar"><h1 id="Event-Handling"><a href="#Event-Handling" class="headerlink" title="Event Handling"></a>Event Handling</h1><h2 id="Cross-component-communication"><a href="#Cross-component-communication" class="headerlink" title="Cross-component communication"></a>Cross-component communication</h2><p>Components should never directly depend on each others. Component A should never include component B and fire it’s methods directly. All the communication and synchronisation between components should be done using Events. Strudel implements a simple class responsible for controlling event communication - <code>EventEmitter</code>.</p><h2 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h2><p><code>EventEmitter</code> is automatically included as a mixin for every component, which means by default every component is able to use event communication.</p><p>Key methods responsible for handling communication are:</p><ul><li><code>$emit</code> - activates all the listeners attached to the event with provided name</li><li><code>$on</code>/<code>$off</code> - attaches/detaches listener to particular event</li></ul><p>Full Event specification can be found in the <a href="http://strudeljs.org/api/#emit">API</a></p><p>Example below shows cross-component event communication.</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"subscriber"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"publisher"</span> <span class="attr">data-id</span>=<span class="string">"0"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">@Component(<span class="string">'.subscriber'</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Subscriber</span> </span>&#123;</span><br><span class="line">  init() &#123;</span><br><span class="line">    <span class="keyword">this</span>.$on(<span class="string">'publisher:publish'</span>, (id) =&gt; &#123; <span class="comment">// Attaching listener</span></span><br><span class="line">      <span class="keyword">this</span>.$element.html(<span class="string">`<span class="subst">$&#123;id&#125;</span>`</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Component(<span class="string">'.publisher'</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Publisher</span> </span>&#123;</span><br><span class="line">  @Evt(<span class="string">'click'</span>)</span><br><span class="line">  publish() &#123;</span><br><span class="line">    <span class="keyword">this</span>.$emit(<span class="string">'publisher:publish'</span>, <span class="keyword">this</span>.$data.id); <span class="comment">// Firing event</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Using-EventEmitter"><a href="#Using-EventEmitter" class="headerlink" title="Using EventEmitter"></a>Using EventEmitter</h2><p>Static classes introduced for handling utility configuration or data requesting can also communicate with components using events. To use events simply extend <code>EventEmitter</code> class in class and suddenly it will be able to communicate with components using same API as components.</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; EventEmitter &#125; <span class="keyword">from</span> <span class="string">'strudel'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataProvider</span> <span class="keyword">extends</span> <span class="title">EventEmitter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(url) &#123;</span><br><span class="line">        fetch(url).then(<span class="function">(<span class="params">resp</span>) =&gt;</span> &#123;</span><br><span class="line">           <span class="keyword">this</span>.$emit(<span class="string">'data:fetched'</span>, resp.json());</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="quick-links"><span>← <a class="quick-links__link" href="/guide/dom.html">Manipulating DOM</a></span> <span style="float:right"><a class="quick-links__link" href="/guide/initialization.html">Initialization</a> →</span></div></div></section><script src="/js/main-715255dcfac2e8659d8778374ff316ed.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script>["#search-query-nav","#search-query-mobile"].forEach(function(e){document.querySelector(e)&&docsearch({apiKey:"94ab548b028cedb05822656f30e0ac52",indexName:"strudeljs",inputSelector:e,debug:!0})})</script></body>