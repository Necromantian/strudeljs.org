!function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r={};i.m=n,i.c=r,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t,n){!function(e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),i={"/^\\.[\\w\\-]+$/":function(e){return document.getElementsByClassName(e.substring(1))},"/^\\w+$/":function(e){return document.getElementsByTagName(e)},"/^\\#[\\w\\-]+$/":function(e){return document.getElementById(e.substring(1))},"/^</":function(e){return(new u).generate(e)}},o=function(e,t){return(t||document).querySelectorAll(e)},c={events:function(e,t){if(e._e)for(var n in e._e)e._e[n].forEach(function(e){new u(t).on(n,e)})},select:function(e,t){new u(e).is("select")&&(t.value=e.value)},textarea:function(e,t){new u(e).is("textarea")&&(t.value=e.value)}},u=function(){function u(e,t){if(l(this,u),e instanceof u)return e;"string"==typeof e&&(e=function(e,t){if(e=e.replace(/^\s*/,"").replace(/\s*$/,""),t)return o(e,t);for(var n in i)if(t=n.split("/"),new RegExp(t[1],t[2]).test(e))return i[n](e);return o(e)}(e,t)),(e&&e.nodeName||e&&e===window)&&(e=[e]),this._nodes=this.slice(e)}return n(u,[{key:"array",value:function(r){var o=this;return this._nodes.reduce(function(e,t,n){var i=void 0;return r?((i=r.call(o,t,n))||(i=!1),"string"==typeof i&&(i=new u(i)),i instanceof u&&(i=i._nodes)):i=t.innerHTML,e.concat(!1!==i?i:[])},[])}},{key:"str",value:function(t,n){return function(e){return"function"==typeof e?e.call(this,t,n):e.toString()}}},{key:"is",value:function(e){return 0<this.filter(e).length}},{key:"filter",value:function(t){var e=function(e){return e.matches=e.matches||e.msMatchesSelector||e.webkitMatchesSelector,e.matches(t||"*")};return"function"==typeof t&&(e=t),t instanceof u&&(e=function(e){return-1!==t._nodes.indexOf(e)}),new u(this._nodes.filter(e))}},{key:"eq",value:function(e){return new u(this._nodes[e])||!1}},{key:"first",value:function(){return this._nodes[0]||!1}},{key:"slice",value:function(e){return e&&0!==e.length&&"string"!=typeof e&&"[object Function]"!==e.toString()?e.length?[].slice.call(e._nodes||e):[e]:[]}},{key:"unique",value:function(){return new u(this._nodes.reduce(function(e,t){return null!=t&&!1!==t&&-1===e.indexOf(t)?e.concat(t):e},[]))}},{key:"children",value:function(e){return this.map(function(e){return this.slice(e.children)}).filter(e)}},{key:"generate",value:function(e){return/^\s*<t(h|r|d)/.test(e)?new u(document.createElement("table")).html(e).children()._nodes:/^\s*</.test(e)?new u(document.createElement("div")).html(e).children()._nodes:document.createTextNode(e)}},{key:"args",value:function(e,t,n){return"function"==typeof e&&(e=e(t,n)),"string"!=typeof e&&(e=this.slice(e).map(this.str(t,n))),e.toString().split(/[\s,]+/).filter(function(e){return e.length})}},{key:"each",value:function(e){return this._nodes.forEach(e.bind(this)),this}},{key:"eacharg",value:function(n,i){return this.each(function(t,e){this.args(n,t,e).forEach(function(e){i.call(this,t,e)},this)})}},{key:"isInPage",value:function(e){return e!==document.body&&document.body.contains(e)}},{key:"map",value:function(e){return e?new u(this.array(e)).unique():this}},{key:"adjacent",value:function(o,e,n){return"number"==typeof e&&(e=0===e?[]:new Array(e).join().split(",").map(Number.call,Number)),this.each(function(i,r){var t=document.createDocumentFragment();new u(e||{}).map(function(e,t){var n="function"==typeof o?o.call(this,e,t,i,r):o;return"string"==typeof n?this.generate(n):new u(n)}).each(function(e){this.isInPage(e)?t.appendChild(new u(e).clone().first()):t.appendChild(e)}),n.call(this,i,t)})}},{key:"getAll",value:function(e){return new u([e].concat(new u("*",e)._nodes))}},{key:"clone",value:function(){return this.map(function(e){var t=e.cloneNode(!0),i=this.getAll(t);return this.getAll(e).each(function(e,t){for(var n in c)c[n](e,i._nodes[t])}),t})}},{key:"html",value:function(t){return void 0===t?this.first().innerHTML||"":this.each(function(e){e.innerHTML=t})}},{key:"text",value:function(t){return void 0===t?this.first().textContent||"":this.each(function(e){e.textContent=t})}},{key:"remove",value:function(){return this.each(function(e){e.parentNode.removeChild(e)})}},{key:"parent",value:function(e){return this.map(function(e){return e.parentNode}).filter(e)}},{key:"closest",value:function(t){return this.map(function(e){do{if(new u(e).is(t))return e}while((e=e.parentNode)&&e!==document)})}},{key:"append",value:function(e,t){return this.adjacent(e,t,function(e,t){e.appendChild(t)})}},{key:"prepend",value:function(e,t){return this.adjacent(e,t,function(e,t){e.insertBefore(t,e.firstChild)})}},{key:"find",value:function(t){return this.map(function(e){return new u(t||"*",e)})}},{key:"addClass",value:function(e){return this.eacharg(arguments,function(e,t){e.classList.add(t)})}},{key:"toggleClass",value:function(e){return this.eacharg(arguments,function(e,t){e.classList.toggle(t)})}},{key:"removeClass",value:function(e){return this.eacharg(arguments,function(e,t){e.classList.remove(t)})}},{key:"on",value:function(e,t,i){if("string"==typeof t){var r=t;t=function(t){var n=arguments,e=new u(t.currentTarget);(e.is(r)?e:e.find(r)).each(function(e){if(e===t.target||e.contains(t.target)){try{Object.defineProperty(t,"currentTarget",{get:function(){return e}})}catch(e){}i.apply(e,n)}})}}var n=function(e){return t.apply(this,[e].concat(e.detail||[]))};return this.eacharg(e,function(e,t){e.addEventListener(t,n),e._e=e._e||{},e._e[t]=e._e[t]||[],e._e[t].push(n)})}},{key:"off",value:function(e){return void 0===e&&this.each(function(t){for(var n in t._e)t._e[n].forEach(function(e){t.removeEventListener(n,e)})}),this.eacharg(e,function(t,n){new u(t._e?t._e[n]:[]).each(function(e){t.removeEventListener(n,e)})})}},{key:"trigger",value:function(e){var r=this.slice(arguments).slice(1);return this.eacharg(e,function(e,t){var n=void 0,i={bubbles:!0,cancelable:!0,detail:r};try{n=new window.CustomEvent(t,i)}catch(e){(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,r)}e.dispatchEvent(n)})}},{key:"attr",value:function(n,e,i){if(i=i?"data-":"",void 0!==e){var t=n;(n={})[t]=e}return"object"===(void 0===n?"undefined":r(n))?this.each(function(e){for(var t in n)e.setAttribute(i+t,n[t])}):this.length?this.first().getAttribute(i+n):""}},{key:"prop",value:function(n,e){if(void 0!==e){var t=n;(n={})[t]=e}return"object"===(void 0===n?"undefined":r(n))?this.each(function(e){for(var t in n)e[t]=n[t]}):this.length?this.first()[n]:""}},{key:"data",value:function(e,t){return e?this.attr(e,t,!0):this.first().dataset}},{key:"length",get:function(){return this._nodes.length}}]),u}(),a=function(e,t){return new u(e,t)},t=function(){function t(e){l(this,t),this.registry=e}return n(t,[{key:"linkAll",value:function(){this.link(document)}},{key:"unlink",value:function(t){this.registry.getSelectors().forEach(function(e){[].forEach.call(t.querySelectorAll(e),function(e){e.scope&&e.scope.$teardown()})})}},{key:"link",value:function(e){var i=this;this.registry.getSelectors().forEach(function(n){[].forEach.call(e.querySelectorAll(n),function(e){if(!e.scope){var t=a(e);e.scope=i.createComponent(t,i.registry.getComponent(n))}})})}},{key:"createComponent",value:function(e,t){return new t({element:e,data:e.data()})}}]),t}(),s={},f=null,p=function(){function e(){return l(this,e),f||(f=this),f}return n(e,[{key:"getSelectors",value:function(){return Object.keys(s)}},{key:"clear",value:function(){this.getSelectors().forEach(function(e){delete s[e]})}},{key:"getComponent",value:function(e){return s[e]}},{key:"registerComponent",value:function(e,t){s[e]=t}}]),e}(),h=new p,d=new t(h),v=a(document),y=function(){function e(){l(this,e),this._listeners={}}return n(e,[{key:"addListener",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}},{key:"removeListener",value:function(e,i){var t=this._listeners[e];if(t&&t.length){var n=t.reduce(function(e,t,n){return"function"==typeof t&&t===i?e=n:e},-1);if(-1<n)return t.splice(n,1),this._listeners[e]=t,!0}return!1}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this._listeners[e];return!(!r||!r.length||(r.forEach(function(e){e.apply(void 0,n)}),0))}}]),e}(),m=/^(\S+)\s*(.*)$/,b=new y,g="strudel-init",w=function(){function o(){var n,i,c,a,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.element,r=e.data;l(this,o),this.beforeInit(),this.$element=t,this.$data=r,!!(a=(c=this)._events)&&Object.keys(a).forEach(function(e){var t,n,i,r,o=a[e],u=e.match(m);c.$element&&(t=c.$element,n=u[1],i=u[2],r=o.bind(c),i?t.on(n,i,r):t.on(n,r))}),!!(i=(n=this)._els)&&Object.keys(i).forEach(function(e){var t=i[e];n.$element&&(n[t]=n.$element.find(e))}),this.init(),this.$element.addClass(g)}return n(o,[{key:"$on",value:function(e,t){b.addListener(e,t)}},{key:"$off",value:function(e,t){b.removeListener(e,t)}},{key:"$emit",value:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];b.emit.apply(b,[e].concat(n))}},{key:"beforeInit",value:function(){}},{key:"init",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"destroy",value:function(){}},{key:"$teardown",value:function(){this.beforeDestroy(),this.$element.off(),this.$element.removeClass(g),delete this.$element.first().scope,delete this.$element,this.destroy()}}]),o}(),k=new p,_=function(e,t){if(!t)throw new Error("Selector must be provided for Component decorator");if(!e.prototype)throw new Error("Decorator works only for classes");var n,i,r,o,u=function(e){function r(){var e;l(this,r);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(n)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),r}(w);return n=e,i=u.prototype,r=n.prototype,o=new n,Object.getOwnPropertyNames(o).forEach(function(e){var t=Object.getOwnPropertyDescriptor(o,e);t.writable=!0,Object.defineProperty(i,e,t)}),Object.getOwnPropertyNames(r).forEach(function(e){"constructor"!==e&&Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))}),Object.defineProperty(u.prototype,"_selector",{value:t}),Object.defineProperty(u.prototype,"isStrudelClass",{value:!0}),k.registerComponent(t,u),u};["DOMContentLoaded","contentloaded"].forEach(function(e){v.on(e,function(e){if(e.detail&&0<e.detail.length){var t=e.detail[0];t=t instanceof HTMLElement?t:t.first(),d.link(t)}else d.linkAll();v.trigger("strudelloaded")})}),v.on("contentunload",function(e){if(e.detail){var t=e.detail[0];t=t instanceof HTMLElement?t:t.first(),d.unlink(t)}}),window.Strudel=window.Strudel||{},window.Strudel.registry=h,e.Component=function(t){return function(e){return _(e,t)}},e.EventEmitter=y,e.Evt=function(n){return function(e,t){if(!n)throw new Error("Event descriptor must be provided for Evt decorator");e._events||(e._events=[]),e._events[n]=e[t]}},e.El=function(n){return function(e,t){if(!n)throw new Error("Selector must be provided for El decorator");e._els||(e._els=[]),e._els[n]=t}},e.element=a,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";function i(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var r,o,u,c,a,l=n(0);n.n(l),r=n.i(l.Component)(".collapsible"),o=n.i(l.El)(".collapsible__panel"),u=n.i(l.Evt)("click .collapsible__button"),r((c=function(){function r(){var e,t,n,i;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,r),t="panel",i=e=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}return r.prototype.toggle=function(){null!==this.panel.attr("hidden")?this.panel.first().removeAttribute("hidden"):this.panel.attr("hidden","true")},r}(),a=i(c.prototype,"panel",[o],{enumerable:!0,initializer:null}),i(c.prototype,"toggle",[u],Object.getOwnPropertyDescriptor(c.prototype,"toggle"),c.prototype),c))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var o,u,c,a,l,s,f=n(0);n.n(f),o=n.i(f.Component)(".generator"),u=n.i(f.Evt)("click .generator__trigger"),o((r((c=function(){function e(){i(this,e)}return e.prototype.onTrigger=function(){this.$element.prepend('<div class="alert"></div>'),this.$element.trigger("contentloaded")},e}()).prototype,"onTrigger",[u],Object.getOwnPropertyDescriptor(c.prototype,"onTrigger"),c.prototype),c)),a=n.i(f.Component)(".alert"),l=n.i(f.Evt)("click .alert__dismiss"),a((r((s=function(){function e(){i(this,e)}return e.prototype.dismiss=function(){this.$element.remove()},e.prototype.init=function(){var e=this;this.$element.html('Alert! <button class="alert__dismiss">X</button>'),setTimeout(function(){e.dismiss()},2e3)},e}()).prototype,"dismiss",[l],Object.getOwnPropertyDescriptor(s.prototype,"dismiss"),s.prototype),s))},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,i,e,t,r){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,i,e)||e},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,i,o),o=null),o}var r,u,c,a,l,s=n(0);n.n(s),r=n.i(s.Component)(".publish"),u=n.i(s.El)(".publish__message"),c=n.i(s.Evt)("click .publish__button"),r((a=function(){function r(){var e,t,n,i;o(this,r),t="message",i=e=this,(n=l)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}return r.prototype.sendMessage=function(){this.$emit("publish:msg",{message:this.message.prop("value")}),this.message.prop("value","")},r}(),l=i(a.prototype,"message",[u],{enumerable:!0,initializer:null}),i(a.prototype,"sendMessage",[c],Object.getOwnPropertyDescriptor(a.prototype,"sendMessage"),a.prototype),a)),n.i(s.Component)(".subscribe")(function(){function e(){o(this,e)}return e.prototype.init=function(){var t=this;this.$on("publish:msg",function(e){t.$element.append("<li>"+e.message+"</li>")})},e}())},function(e,t,n){"use strict";var i=n(0);n.n(i),n.i(i.Component)(".greeter")(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.init=function(){this.$element.html("Hello world!")},e}())},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,o,u,c,a,l,s,f,p,h=n(0);n.n(h),n.i(h.Component)(".counter")(function(){function e(){i(this,e),this.count=0}return e.prototype.beforeInit=function(){var e=this;this.$on("add",function(){e.count++,5<=e.count?e.$teardown():e.render()})},e.prototype.init=function(){this.render()},e.prototype.beforeDestroy=function(){this.$element.remove()},e.prototype.destroy=function(){this.$off("add"),this.$emit("destroyed")},e.prototype.render=function(){this.$element.text(this.count)},e}()),r=n.i(h.Component)(".adder"),o=n.i(h.Evt)("click"),r((u=function(){function e(){i(this,e)}return e.prototype.beforeInit=function(){var e=this;this.$on("destroyed",function(){return e.$teardown()})},e.prototype.beforeDestroy=function(){this.$element.remove()},e.prototype.onClick=function(){this.$emit("add")},e}(),c=u.prototype,a="onClick",l=[o],s=Object.getOwnPropertyDescriptor(u.prototype,"onClick"),f=u.prototype,p={},Object.keys(s).forEach(function(e){p[e]=s[e]}),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=l.slice().reverse().reduce(function(e,t){return t(c,a,e)||e},p),f&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(f):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,a,p),p=null),u))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(4),n(1),n(3),n(2),n(5)}]);